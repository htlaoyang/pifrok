---
title: VS2012开发工具使用小技巧
date: 2020-08-10
tags: 
  - VS2012
  - VC++
author: pifrok
location: ShengZheng  
---
## 1. 还原初始窗口布局
  VS2012 -》窗口-》重置窗口布局

  
## 2. 个性化设置窗口布局
  拖动窗口，会出现布局按钮，一直按住左键将鼠标拖动到出现的布局按钮上，此时你拖动的窗口会变成浅蓝色，这个位置如果是想要放置的位置，松开左键即可

  
## 3. 显示解决方案资源管理器
  VS2012 -》视图-》解决方案资源管理器  【快捷码 Ctrl+Alt+L】


  
## 4. 添加模块定义文件(.def)
  解决方案资源管理器中选中要添加的项目-》右键弹出菜单 选择添加-》新建项-》弹出新建项窗口 左侧选择 代码，右侧选择模块定义文件(.def)


## 5. error C2065: “HINSTANCE”: 未声明的标识符
  未包含头文件#include <windows.h>
  
  error C3861: “printf”: 找不到标识符	
  未包含头文件#include <stdio.h>
  
  
## 6. 创建动态库关键是导出函数，DLL中导出函数的声明有两种方式：
  （1）、在函数声明中加上__declspec(dllexport)；
  （2）、采用模块定义(.def)文件声明，(.def)文件为链接器提供了有关被链接程序的导出、属性及其他方面的信息。
  
  
## 7. 编写pb(powerbuilder)可以调用的dll库程序，注意事项
  （1）、调用约定 要用 _stdcall(/Gz).
  
  （2）、字符串操作函数又内存溢出的风险.需要添加预处理器定义，添加_CRT_SECURE_NO_WARNINGS值.
  
  （3）、在其他没有安装IDE环境中,可能会提示缺少相关DLL，修改运行库：多线程 /MT模式.
  
  （4）、传递参数，比如指针等,PB和C++中必须对应正确.如char * 在PB中需要使用Ref String，C++的int在PB中需要使用long类型.
  
  （5）、传递结构体,PB和C++中的定义需要保持完全对应,同时结构体的大小需要保持一致,否则可能导致内存访问异常.


  
<ZanShang />
